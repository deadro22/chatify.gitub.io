{"version":3,"sources":["auth-guard.js","Pages/Components/SearchComponents/UsersList.jsx","Pages/Components/BasicComponents/Popup.jsx","Pages/Components/NavbarComponents/NavSearch.jsx","Helpers.js","Pages/Components/MainNav.jsx","Pages/Components/UnvProfileImage.jsx","Pages/Components/PostMainPageComponents/Like.jsx","Pages/Components/PostMainPageComponents/Comment.jsx","Pages/Components/CommentMainPost.jsx","Pages/Components/HomeComponents/HomePostComments.jsx","Pages/Components/BasicComponents/Loader.jsx","Pages/Components/BasicComponents/DynamicText.jsx","Pages/Components/Post.jsx","Pages/HomePage.jsx","Pages/Components/EmptyPosts.jsx","Pages/Components/PrivateProfile.jsx","Pages/Components/ProfilePost.jsx","Pages/Components/ProfilePostForm.jsx","Pages/Components/ProfileHeader.jsx","Pages/Components/NotFoundComponent.jsx","Pages/Components/ProfileComponents/ProfileModify.jsx","Pages/ProfilePage.jsx","Pages/ErrorPage.jsx","Pages/LoginPage.jsx","Pages/RegisterPage.jsx","Pages/Components/LoadingBar.jsx","Pages/Routes/ProtectedRoute.jsx","Pages/Routes/AuthRoute.jsx","Pages/Components/PostMainPageComponents/PostFormM.jsx","Pages/Components/PostMainPageComponents/PostHeaderMini.jsx","Pages/Components/PostMainPageComponent.jsx","Pages/PostMainPage.jsx","Pages/Components/SearchComponents/UsersListPage.jsx","Pages/SearchPage.jsx","App.js","index.js"],"names":["this","authenticated","data","cb","axios","post","withCredentials","console","log","response","reponse","get","user","isAuthed","schema","ident","Joi","string","required","min","max","password","validate","username","email","UsersList","className","props","usersList","map","key","_id","to","onClick","toggleSearch","Component","Popup","from","opacity","transform","config","friction","duration","style","title","togglePopup","children","NavSearch","state","srcValue","searchUserOnInput","e","a","error","params","setState","prf_user_list","searchUser","preventDefault","history","push","fillSearchValue","target","value","onSubmit","type","placeholder","onChange","length","withRouter","date","d","Date","month","getMonth","day","getDate","year","getFullYear","minutes","getMinutes","toString","hours","getHours","join","postId","socket","emit","userId","commentbody","commentBody","goBack","url","cst","scst","document","scrollingElement","scrollHeight","scrollTop","clientHeight","skp_count","skipCount","newhomePosts","homePosts","h_p","posts","ccp","concat","newLoading","canLoadData","postLimit","body","overflow","MainNavbar","searchActive","handleLogout","auth","logout","window","location","href","srcToggle","Helpers","Fragment","UnvProfileImage","prf_image","uncc","src","getBackendLink","width","size","height","alt","borderRadius","border","objectFit","fontSize","f_size","toUpperCase","margin","Like","likesCount","likeHeartRef","React","createRef","likes","on","like","current","color","includes","likePost","ref","Comment","toggleComments","commentsCount","CommentPostMain","comment","commentOwner","profileImage","commentInner","helpers","setPostTimeDate","commentDate","HomePostComments","postComment","comments","Loader","customSpacing","DynamicText","findAndSetLinks","newtext","content","split","i","startsWith","replace","valRef","Post","showComments","loadingComments","lodash","isEmpty","io","connect","postOwner","id","postDate","postHeader","postPreviewHolder","custom","MainHomePage","loading","authUser","addEventListener","loadOnFetchScroll","newStatePost","index","marginBottom","postComments","EmptyPosts","PrivateProfile","ProfilePost","private","followers","backgroundImage","ProfilePostForm","addImagePreview","PrevImgRef","files","nfile","reader","FileReader","readAsDataURL","onloadend","PreviewImgsrc","result","handlePostData","validationSchema","post_image","postData","details","message","bodyformData","FormData","set","append","tension","methd","undefined","name","backgroundColor","ProfileHeader","addingPost","isFollower","followInviteSent","addPostForm","followUser","res","followBtnVal","warn","followRequests","postsCount","toggleModify","profileDescription","following","NotFoundComponent","ProfileModify","updateProfile","profile_image","newUser","handleInput","imgUploadHandle","method","autoComplete","rows","padding","ProfilePage","notFound","modifyActive","toggleProfileModify","match","us_prf","newProfilePosts","nwUser","ErrorPage","LoginPage","logUserOnSubmit","verifyLoginData","login","handleInputUser","readOnly","RegisterPage","verifyRegisterData","Register","LoadingBarMain","ProtectedRoute","LoadingBar","navbar","path","component","socketConnect","exact","AuthRoute","redirectPath","PostFormMain","nComment","cm_res","newComment","addCommentOnPost","onKeyDown","commentPost","PostHeaderMini","closable","returnBack","PostMainPageComponent","newComments","PostFormM","PostMainPage","notfound","privatePost","status","UserListPageL","MainSearchPage","searchQuery","query","parse","search","sch_q","l_users","authuser","App","navBar_ss","isAuthenticated","defaults","baseURL","credentials","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a20f03cb.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport Joi from \"joi\";\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.authenticated = false;\r\n  }\r\n  async login(data, cb) {\r\n    try {\r\n      await axios.post(\"/api/users/login\", data, {\r\n        withCredentials: true,\r\n      });\r\n      this.authenticated = true;\r\n    } catch (e) {\r\n      this.authenticated = false;\r\n      console.log(e.response);\r\n    }\r\n  }\r\n  async logout(cb) {\r\n    try {\r\n      await axios.post(\"/api/users/logout\", null, {\r\n        withCredentials: true,\r\n      });\r\n      cb();\r\n    } catch (e) {\r\n      console.log(e.reponse);\r\n    }\r\n  }\r\n  async isAuthenticated(cb) {\r\n    try {\r\n      const user = await axios.get(\"/api/users/auth/check\", {\r\n        withCredentials: true,\r\n      });\r\n      this.authenticated = true;\r\n      return { isAuthed: this.authenticated, user };\r\n    } catch (e) {\r\n      return (this.authenticated = false);\r\n    }\r\n  }\r\n  verifyLoginData(user) {\r\n    const schema = {\r\n      ident: Joi.string().required().min(3).max(150),\r\n      password: Joi.string().required().min(10),\r\n    };\r\n    return Joi.validate(user, schema);\r\n  }\r\n  verifyRegisterData(user) {\r\n    const schema = {\r\n      username: Joi.string().required().min(3).max(150),\r\n      email: Joi.string().required().email().min(3).max(150),\r\n      password: Joi.string().required().min(10),\r\n    };\r\n    return Joi.validate(user, schema);\r\n  }\r\n  async Register(data, cb) {\r\n    try {\r\n      await axios.post(\"/api/users/register\", data, {\r\n        withCredentials: true,\r\n      });\r\n      this.authenticated = true;\r\n      cb(data);\r\n    } catch (e) {\r\n      this.authenticated = false;\r\n      console.log(e.response);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Auth();\r\n","import React, { Component } from \"react\";\r\nimport \"../SearchComponents/Search.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass UsersList extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"src_res_list\">\r\n        {this.props.usersList.map((user) => (\r\n          <div key={user._id}>\r\n            <p>{user.username}</p>\r\n            <Link\r\n              to={\"/profile/\" + user.username}\r\n              onClick={this.props.toggleSearch}\r\n            >\r\n              <i className=\"fa fa-arrow-alt-circle-right\"></i>\r\n            </Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UsersList;\r\n","import React, { Component } from \"react\";\r\nimport \"./Styles/Popup.css\";\r\nimport { Spring } from \"react-spring/renderprops\";\r\n\r\nclass Popup extends Component {\r\n  render() {\r\n    return (\r\n      <Spring\r\n        from={{ opacity: 0, transform: \"scale(1.1)\" }}\r\n        to={{ opacity: 1, transform: \"scale(1)\" }}\r\n        config={{ friction: 17, duration: 150 }}\r\n      >\r\n        {(props) => (\r\n          <div className=\"pop_u_main\" style={props}>\r\n            <div className=\"p_hd_hld\">\r\n              <div className=\"pop_header\">\r\n                <h3>{this.props.title}</h3>\r\n                <button onClick={this.props.togglePopup}>\r\n                  <i className=\"fal fa-times\"></i>\r\n                </button>\r\n              </div>\r\n              {this.props.children}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Spring>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Popup;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport UsersList from \"./../SearchComponents/UsersList\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Joi from \"joi\";\r\nimport Popup from \"./../BasicComponents/Popup\";\r\n\r\nclass NavSearch extends Component {\r\n  state = {\r\n    srcValue: \"\",\r\n  };\r\n  searchUserOnInput = async (e) => {\r\n    try {\r\n      const { error } = Joi.validate(\r\n        { srcValue: this.state.srcValue },\r\n        {\r\n          srcValue: Joi.string().required(),\r\n        }\r\n      );\r\n      if (!error) {\r\n        const usersList = await axios.get(\"/api/users/profiles/lst\", {\r\n          withCredentials: true,\r\n          params: { username: this.state.srcValue },\r\n        });\r\n        this.setState({ usersList: usersList.data.prf_user_list });\r\n      }\r\n    } catch (e) {\r\n      console.log(e.response);\r\n    }\r\n  };\r\n  searchUser = async (e) => {\r\n    e.preventDefault();\r\n    const { error } = Joi.validate(\r\n      { srcValue: this.state.srcValue },\r\n      {\r\n        srcValue: Joi.string().required(),\r\n      }\r\n    );\r\n    if (!error) {\r\n      this.props.toggleSearch();\r\n      this.props.history.push(\"/search?sch_q=\" + this.state.srcValue);\r\n    }\r\n  };\r\n  fillSearchValue = (e) => {\r\n    this.setState({ srcValue: e.target.value });\r\n  };\r\n  render() {\r\n    return (\r\n      <Popup togglePopup={this.props.toggleSearch} title={\"Search\"}>\r\n        <div>\r\n          <form className=\"fr_search\" onSubmit={this.searchUser}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"search by username, games, rank\"\r\n              onChange={(e) => {\r\n                this.fillSearchValue(e);\r\n                this.searchUserOnInput();\r\n              }}\r\n            />\r\n          </form>\r\n          {this.state.usersList && this.state.usersList.length > 0 && (\r\n            <UsersList\r\n              usersList={this.state.usersList}\r\n              toggleSearch={this.props.toggleSearch}\r\n            />\r\n          )}\r\n        </div>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(NavSearch);\r\n","import axios from \"axios\";\r\n\r\nclass Helpers {\r\n  getBackendLink() {\r\n    return \"https://cht-bck-d.herokuapp.com\";\r\n  }\r\n  setPostTimeDate(date) {\r\n    let d = new Date(date),\r\n      month = \"\" + (d.getMonth() + 1),\r\n      day = \"\" + d.getDate(),\r\n      year = d.getFullYear(),\r\n      minutes = d.getMinutes().toString(),\r\n      hours = d.getHours().toString();\r\n\r\n    if (month.length < 2) month = \"0\" + month;\r\n    if (day.length < 2) day = \"0\" + day;\r\n    if (minutes.length < 2) minutes = \"0\" + minutes;\r\n    if (hours.length < 2) hours = \"0\" + hours;\r\n    if (day === d.getDate()) {\r\n      return `Today | ${hours}:${minutes}`;\r\n    } else {\r\n      return `${[year, month, day].join(\"-\")} | ${hours}:${minutes}`;\r\n    }\r\n  }\r\n  likePost(postId, user, socket) {\r\n    socket.emit(\"likePost\", {\r\n      postId: postId,\r\n      userId: user._id,\r\n    });\r\n  }\r\n  commentPost(e, socket, post, user, commentbody) {\r\n    if (e.key === \"Enter\" && commentbody.length > 0) {\r\n      socket.emit(\"commentPost\", {\r\n        postId: post.postId,\r\n        userId: user._id,\r\n        commentBody: commentbody,\r\n      });\r\n    }\r\n  }\r\n  returnBack(history) {\r\n    return history.goBack();\r\n  }\r\n  async loadOnFetchScroll(state, url, cst, scst) {\r\n    let scrollCondition =\r\n      document.scrollingElement.scrollHeight -\r\n        document.scrollingElement.scrollTop ===\r\n      document.scrollingElement.clientHeight;\r\n    if (scrollCondition) {\r\n      cst();\r\n      const newhomePosts = await axios.get(url, {\r\n        withCredentials: true,\r\n        params: { skp_count: state.skipCount },\r\n      });\r\n      if (newhomePosts.data.homePosts.length > 0) {\r\n        const h_p = state.posts;\r\n        const ccp = h_p.concat(newhomePosts.data.homePosts);\r\n        return scst({\r\n          posts: ccp,\r\n          skipCount: ccp.length,\r\n          newLoading: false,\r\n          canLoadData: true,\r\n        });\r\n      } else {\r\n        return scst({\r\n          postLimit: true,\r\n          newLoading: false,\r\n          canLoadData: false,\r\n        });\r\n      }\r\n    }\r\n  }\r\n  toggleSearch(state) {\r\n    if (state) {\r\n      document.body.style.overflow = \"auto\";\r\n      return false;\r\n    } else {\r\n      document.body.style.overflow = \"hidden\";\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Helpers();\r\n","import React, { Component } from \"react\";\r\nimport \"../Styles/MainNav.css\";\r\nimport auth from \"../../auth-guard\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport NavSearch from \"./NavbarComponents/NavSearch\";\r\nimport Helpers from \"../../Helpers\";\r\n\r\nclass MainNavbar extends Component {\r\n  state = {\r\n    searchActive: false,\r\n  };\r\n  handleLogout = async () => {\r\n    await auth.logout();\r\n    window.location.href = \"/login\";\r\n  };\r\n  toggleSearch = () => {\r\n    const srcToggle = Helpers.toggleSearch(this.state.searchActive);\r\n    this.setState({ searchActive: srcToggle });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"navBar_main_cl\">\r\n        <React.Fragment>\r\n          <div className=\"navBar_logo_hld\">\r\n            <Link to=\"/\" className=\"default_lnk_rm\">\r\n              <i className=\"fab fa-foursquare\"></i>\r\n            </Link>\r\n          </div>\r\n          <div className=\"inter_navBar_mn\">\r\n            {this.props.user !== null ? (\r\n              <React.Fragment>\r\n                <Link to=\"/\" className=\"default_lnk_rm\">\r\n                  <i className=\"fal fa-home\"></i>\r\n                </Link>\r\n                <div className=\"default_lnk_rm\" onClick={this.toggleSearch}>\r\n                  <i className=\"fal fa-search\"></i>\r\n                </div>{\" \"}\r\n                <Link to=\"/explore\" className=\"default_lnk_rm\">\r\n                  <i className=\"fal fa-compass\"></i>\r\n                </Link>\r\n                <Link\r\n                  to={\"/profile/\" + this.props.user.data.username}\r\n                  className=\"default_lnk_rm\"\r\n                >\r\n                  <i className=\"fal fa-user\"></i>\r\n                </Link>\r\n                <Link to=\"/messages\" className=\"default_lnk_rm\">\r\n                  <i className=\"fal fa-paper-plane\"></i>\r\n                </Link>\r\n                <div>\r\n                  <i className=\"fal fa-bell\"></i>\r\n                </div>\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                <Link to=\"/login\" className=\"default_lnk_rm\">\r\n                  <i className=\"fal fa-sign-in-alt\"></i>\r\n                </Link>\r\n                <Link to=\"/register\" className=\"default_lnk_rm\">\r\n                  <i className=\"fal fa-plus\"></i>\r\n                </Link>\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n          <div className=\"navBar_drp\">\r\n            {this.props.user !== null && (\r\n              <button\r\n                className=\"bt_default_rm bt_main_b\"\r\n                onClick={this.handleLogout}\r\n              >\r\n                <i className=\"fa fa-cog\"></i>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </React.Fragment>\r\n        {this.state.searchActive === true && (\r\n          <NavSearch toggleSearch={this.toggleSearch} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(MainNavbar);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Helpers from \"../../Helpers\";\r\n\r\nclass UnvProfileImage extends Component {\r\n  render() {\r\n    if (this.props.prf_image) {\r\n      return !this.props.uncc ? (\r\n        <Link\r\n          className=\"default_lnk_rm\"\r\n          style={{ height: this.props.size }}\r\n          to={\"/profile/\" + this.props.username}\r\n        >\r\n          <img\r\n            src={\r\n              Helpers.getBackendLink() +\r\n              \"/api/upld/imgs/image/preview/profile-image/\" +\r\n              this.props.prf_image\r\n            }\r\n            width={this.props.size}\r\n            height={this.props.size}\r\n            alt=\"\"\r\n            style={{\r\n              borderRadius: \"150px\",\r\n              border: \"2px solid rgb(100, 100, 100)\",\r\n              objectFit: \"cover\",\r\n            }}\r\n          />\r\n        </Link>\r\n      ) : (\r\n        <img\r\n          src={\r\n            Helpers.getBackendLink() +\r\n            \"/api/upld/imgs/image/preview/profile-image/\" +\r\n            this.props.prf_image\r\n          }\r\n          width={this.props.size}\r\n          height={this.props.size}\r\n          alt=\"\"\r\n          style={{\r\n            borderRadius: \"150px\",\r\n            border: \"2px solid rgb(100, 100, 100)\",\r\n            objectFit: \"cover\",\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      return !this.props.uncc ? (\r\n        <Link\r\n          className=\"default_lnk_rm\"\r\n          style={{ height: this.props.size, margin: 0 }}\r\n          to={\"/profile/\" + this.props.username}\r\n        >\r\n          <div\r\n            className=\"unv_prof_pic_hld\"\r\n            style={{\r\n              width: this.props.size,\r\n              height: this.props.size,\r\n              fontSize: this.props.f_size,\r\n            }}\r\n          >\r\n            <h1>{this.props.username[0].toUpperCase()}</h1>\r\n          </div>\r\n        </Link>\r\n      ) : (\r\n        <div\r\n          className=\"unv_prof_pic_hld\"\r\n          style={{\r\n            width: this.props.size,\r\n            height: this.props.size,\r\n            fontSize: this.props.f_size,\r\n          }}\r\n        >\r\n          <h1>{this.props.username[0].toUpperCase()}</h1>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default UnvProfileImage;\r\n","import React, { Component } from \"react\";\r\nimport Helpers from \"../../../Helpers\";\r\n\r\nclass Like extends Component {\r\n  state = {\r\n    likesCount: 0,\r\n  };\r\n  componentDidMount() {\r\n    this.likeHeartRef = React.createRef();\r\n    this.setState({ likesCount: this.props.likes.length });\r\n    //On like (server) inc likes\r\n    this.props.socket.on(\"likeRes\", (data) => {\r\n      if (data.like) {\r\n        this.setState({ likesCount: this.state.likesCount + 1 });\r\n      } else {\r\n        this.setState({ likesCount: this.state.likesCount - 1 });\r\n      }\r\n    });\r\n    //On like (server) changeColor\r\n    this.props.socket.on(\"likeStyleRes\", (data) => {\r\n      if (data.like) {\r\n        this.likeHeartRef.current.className = \"fa fa-heart\";\r\n        this.likeHeartRef.current.style.color = \"red\";\r\n      } else {\r\n        this.likeHeartRef.current.className = \"fal fa-heart\";\r\n        this.likeHeartRef.current.style.color = \"white\";\r\n      }\r\n    });\r\n  }\r\n  render() {\r\n    const { likes, postId, user, socket } = this.props;\r\n    return (\r\n      <p>\r\n        <i\r\n          className={likes.includes(user._id) ? \"fa fa-heart\" : \"fal fa-heart\"}\r\n          onClick={() => Helpers.likePost(postId, user, socket)}\r\n          ref={this.likeHeartRef}\r\n          style={{\r\n            color: likes.includes(this.props.user._id) ? \"red\" : \"white\",\r\n          }}\r\n        ></i>{\" \"}\r\n        {this.state.likesCount}\r\n      </p>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Like;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Comment extends Component {\r\n  render() {\r\n    return (\r\n      <p>\r\n        <i className=\"fal fa-comment\" onClick={this.props.toggleComments}></i>{\" \"}\r\n        {this.props.commentsCount}\r\n      </p>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comment;\r\n","import React, { Component } from \"react\";\r\nimport UnvProfileImage from \"./UnvProfileImage\";\r\nimport { Link } from \"react-router-dom\";\r\nimport helpers from \"../../Helpers\";\r\n\r\nclass CommentPostMain extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"pst_c_lst\">\r\n        <div className=\"pst_c_owner\">\r\n          <UnvProfileImage\r\n            username={this.props.comment.commentOwner.username}\r\n            size={\"35px\"}\r\n            f_size={\"10px\"}\r\n            prf_image={this.props.comment.commentOwner.profileImage}\r\n          />\r\n          <Link\r\n            className=\"default_lnk_rm\"\r\n            to={\"/profile/\" + this.props.comment.commentOwner.username}\r\n          >\r\n            <p>{this.props.comment.commentOwner.username}</p>\r\n          </Link>\r\n        </div>\r\n        <div className=\"pst_comment\">{this.props.comment.commentInner}</div>\r\n        <div className=\"pst_comment_date\">\r\n          <p>{helpers.setPostTimeDate(this.props.comment.commentDate)}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentPostMain;\r\n","import React, { Component } from \"react\";\r\nimport CommentPostMain from \"./../CommentMainPost\";\r\n\r\nclass HomePostComments extends Component {\r\n  render() {\r\n    const { postComment, comments } = this.props;\r\n    return (\r\n      <div className=\"hm_comments_main_hl\">\r\n        {comments.map((comment) => (\r\n          <React.Fragment>\r\n            <CommentPostMain\r\n              postComment={postComment}\r\n              comment={comment}\r\n              key={comment._id}\r\n            />\r\n            <hr />\r\n          </React.Fragment>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePostComments;\r\n","import React, { Component } from \"react\";\r\nimport \"./Styles/Loader.css\";\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    const { customSpacing } = this.props;\r\n    return (\r\n      <div className=\"lds_hld\">\r\n        <div\r\n          className=\"loader\"\r\n          style={{\r\n            margin: customSpacing ? customSpacing + \" auto\" : \"50px auto\",\r\n          }}\r\n        ></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass DynamicText extends Component {\r\n  findAndSetLinks = () => {\r\n    const text = this.props.content;\r\n    const newtext = text.split(\" \");\r\n    for (let i = 0; i <= newtext.length - 1; i++) {\r\n      if (newtext[i].startsWith(\"@\")) {\r\n        newtext[i] = (\r\n          <Link\r\n            className=\"default_lnk_rm bt_tag at_bt_tag\"\r\n            key={i}\r\n            to={\"/profile/\" + newtext[i].replace(\"@\", \"\")}\r\n          >\r\n            {newtext[i]}\r\n          </Link>\r\n        );\r\n      } else if (newtext[i].startsWith(\"#\")) {\r\n        const valRef = newtext[i];\r\n        newtext[i] = (\r\n          <button\r\n            className=\"bt_tag hs_bt_tag\"\r\n            key={i}\r\n            onClick={() =>\r\n              this.props.history.push(\r\n                `/search?sch_q=${valRef.replace(\"#\", \"\")}`\r\n              )\r\n            }\r\n          >\r\n            {newtext[i]}\r\n          </button>\r\n        );\r\n      } else {\r\n        newtext[i] = newtext[i] + \" \";\r\n      }\r\n    }\r\n    return newtext;\r\n  };\r\n  render() {\r\n    return <p className=\"dn_text_hld\">{this.findAndSetLinks()}</p>;\r\n  }\r\n}\r\n\r\nexport default DynamicText;\r\n","import React, { Component } from \"react\";\r\nimport UnvProfileImage from \"./UnvProfileImage\";\r\nimport { Link } from \"react-router-dom\";\r\nimport helpers from \"../../Helpers\";\r\nimport Like from \"./PostMainPageComponents/Like\";\r\nimport Comment from \"./PostMainPageComponents/Comment\";\r\nimport io from \"socket.io-client\";\r\nimport HomePostComments from \"./HomeComponents/HomePostComments\";\r\nimport axios from \"axios\";\r\nimport Loader from \"./BasicComponents/Loader\";\r\nimport lodash from \"lodash\";\r\nimport DynamicText from \"./BasicComponents/DynamicText\";\r\n\r\nclass Post extends Component {\r\n  state = {\r\n    showComments: false,\r\n    loadingComments: false,\r\n  };\r\n  componentDidMount() {\r\n    const socket = io.connect(helpers.getBackendLink() + \"/post\");\r\n    this.setState({ socket });\r\n    socket.emit(\"joinPost\", this.props.post.postId);\r\n  }\r\n  toggleComments = async () => {\r\n    if (lodash.isEmpty(this.state.comments)) {\r\n      this.setState({ loadingComments: true });\r\n      try {\r\n        const comments = await axios.get(\r\n          \"/api/posts/rev/\" +\r\n            this.props.post._id +\r\n            \"/\" +\r\n            this.props.post.postId +\r\n            \"/comments\",\r\n          { withCredentials: true }\r\n        );\r\n        this.setState({\r\n          showComments: !this.state.showComments,\r\n          comments: comments.data,\r\n          loadingComments: false,\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    } else {\r\n      this.setState({ showComments: !this.state.showComments });\r\n    }\r\n  };\r\n  render() {\r\n    const { socket } = this.state;\r\n    const { post, user } = this.props;\r\n    return (\r\n      <div className=\"prf_post_mn\">\r\n        <div className=\"post_header_m pd-1\">\r\n          <div className=\"post_sub_hd\">\r\n            <div className=\"mr-r-1\">\r\n              <UnvProfileImage\r\n                username={post.postOwner.username}\r\n                size={\"50px\"}\r\n                f_size={\"15px\"}\r\n                prf_image={post.postOwner.profileImage}\r\n              />\r\n            </div>\r\n            <div id=\"post_hli\">\r\n              <Link\r\n                className=\"default_lnk_rm\"\r\n                to={\"/profile/\" + post.postOwner.username}\r\n              >\r\n                <p className=\"t-dark-sld\">{post.postOwner.username}</p>\r\n              </Link>\r\n              <p className=\"t-muted-sm\" style={{ fontSize: \"14px\" }}>\r\n                {helpers.setPostTimeDate(post.postDate)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <button className=\"bt_default_rm drp_post\">\r\n              <i className=\"fa fa-ellipsis-h\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"post-header-inf\">\r\n          <DynamicText history={this.props.history} content={post.postHeader} />\r\n        </div>\r\n        <div className=\"post-prev-info\">\r\n          <img\r\n            onClick={() => this.props.history.push(\"/post/\" + post.postId)}\r\n            src={\r\n              helpers.getBackendLink() +\r\n              \"/api/upld/imgs/image/preview/post-image/\" +\r\n              post.postPreviewHolder\r\n            }\r\n            alt=\"\"\r\n          />\r\n          {socket && (\r\n            <div>\r\n              <div className=\"post_inter_hld\">\r\n                <Like\r\n                  likes={post.likes}\r\n                  postId={post.postId}\r\n                  user={user}\r\n                  socket={socket}\r\n                />\r\n                <Comment\r\n                  toggleComments={this.toggleComments}\r\n                  commentsCount={this.props.commentsCount.length}\r\n                />\r\n              </div>\r\n              {this.props.custom &&\r\n                (this.state.loadingComments ? (\r\n                  <Loader />\r\n                ) : (\r\n                  this.state.showComments &&\r\n                  this.state.comments.comments.length > 0 && (\r\n                    <React.Fragment>\r\n                      <hr />\r\n                      <HomePostComments\r\n                        postComment={post}\r\n                        comments={this.state.comments.comments}\r\n                      />\r\n                    </React.Fragment>\r\n                  )\r\n                ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Post;\r\n","import React, { Component } from \"react\";\r\nimport Post from \"./Components/Post\";\r\nimport \"./Styles/Home.css\";\r\nimport \"./Components/HomeComponents/Styles/HomeComponentsStyles.css\";\r\nimport axios from \"axios\";\r\nimport io from \"socket.io-client\";\r\nimport Loader from \"./Components/BasicComponents/Loader\";\r\nimport { Spring } from \"react-spring/renderprops\";\r\nimport Helpers from \"../Helpers\";\r\n\r\nclass MainHomePage extends Component {\r\n  state = {\r\n    loading: true,\r\n    skipCount: 0,\r\n    newLoading: false,\r\n    postLimit: false,\r\n    canLoadData: true,\r\n  };\r\n  async componentDidMount() {\r\n    document.title = \"Chatify\";\r\n    const homePosts = await axios.get(\"/api/users/home\", {\r\n      withCredentials: true,\r\n    });\r\n    const socket = io.connect(Helpers.getBackendLink() + \"/post\");\r\n    this.setState({\r\n      posts: homePosts.data.homePosts,\r\n      loading: false,\r\n      socket,\r\n      authUser: homePosts.data.authUser,\r\n      skipCount: homePosts.data.homePosts.length,\r\n    });\r\n    if (this.state.postLimit !== true && this.state.canLoadData) {\r\n      document.addEventListener(\"scroll\", async () => {\r\n        await Helpers.loadOnFetchScroll(\r\n          this.state,\r\n          \"/api/users/home\",\r\n          () => {\r\n            this.setState({ newLoading: true, canLoadData: false });\r\n          },\r\n          (newStatePost) => {\r\n            this.setState(newStatePost);\r\n          }\r\n        );\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const { posts, authUser, socket } = this.state;\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"home_main_hld\">\r\n          <Loader />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"home_main_hld\">\r\n          <Spring from={{ opacity: 0 }} to={{ opacity: 1 }}>\r\n            {(props) =>\r\n              posts.length > 0 ? (\r\n                <div style={props}>\r\n                  {posts.map((post, index) => (\r\n                    <div style={{ marginBottom: \"3em\" }} key={index}>\r\n                      <Post\r\n                        post={post}\r\n                        history={this.props.history}\r\n                        socket={socket}\r\n                        user={authUser}\r\n                        commentsCount={post.postComments[0].comments}\r\n                        custom={true}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                  {this.state.newLoading && !this.state.postLimit && (\r\n                    <Loader customSpacing={\"0px\"} />\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <p>No posts</p>\r\n                </div>\r\n              )\r\n            }\r\n          </Spring>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default MainHomePage;\r\n","import React, { Component } from \"react\";\r\n\r\nclass EmptyPosts extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"inv_posts_empty\">\r\n        <div>\r\n          <i className=\"fal fa-camera\"></i>\r\n          <h2>No posts</h2>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EmptyPosts;\r\n","import React, { Component } from \"react\";\r\n\r\nclass PrivateProfile extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"prv_prf_access\">\r\n        <i\r\n          style={{ fontSize: \"50px\", marginBottom: \"10px\" }}\r\n          className=\"fal fa-lock\"\r\n        ></i>\r\n        <p>Sorry this profile is private</p>\r\n        <p>Follow this user to see their content</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PrivateProfile;\r\n","import React, { Component } from \"react\";\r\nimport EmptyPosts from \"./EmptyPosts\";\r\nimport PrivateProfile from \"./PrivateProfile\";\r\nimport Helpers from \"../../Helpers\";\r\n\r\nclass ProfilePost extends Component {\r\n  render() {\r\n    const { user } = this.props;\r\n    const { data: authUser } = this.props.authUser;\r\n    if (\r\n      user._id === authUser._id ||\r\n      !user.private ||\r\n      user.followers.includes(authUser._id)\r\n    ) {\r\n      return (\r\n        <div className=\"prf_post_grd\">\r\n          <React.Fragment>\r\n            {user.posts.length > 0 ? (\r\n              <div className=\"prf_post_mn_hld\">\r\n                {user.posts.map((post) => (\r\n                  <div\r\n                    key={post._id}\r\n                    className=\"post_img_h\"\r\n                    style={{\r\n                      backgroundImage: `url(${Helpers.getBackendLink()}/api/upld/imgs/image/preview/post-image/${\r\n                        post.postPreviewHolder\r\n                      })`,\r\n                    }}\r\n                    onClick={() =>\r\n                      this.props.history.push(\"/post/\" + post.postId)\r\n                    }\r\n                  ></div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <EmptyPosts />\r\n            )}\r\n          </React.Fragment>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"prf_post_grd\">\r\n          <PrivateProfile />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ProfilePost;\r\n","import React, { Component } from \"react\";\r\nimport { Spring } from \"react-spring/renderprops\";\r\nimport \"../Styles/PostForm.css\";\r\nimport axios from \"axios\";\r\nimport Joi from \"joi\";\r\nclass ProfilePostForm extends Component {\r\n  state = {};\r\n  addImagePreview = (e) => {\r\n    if (this.PrevImgRef.files[0]) {\r\n      let nfile = this.PrevImgRef.files[0];\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(nfile);\r\n      reader.onloadend = (e) => {\r\n        this.setState({ PreviewImgsrc: reader.result });\r\n      };\r\n    }\r\n  };\r\n  handlePostData = async (e) => {\r\n    e.preventDefault();\r\n    const validationSchema = {\r\n      postHeader: Joi.string().required(),\r\n      post_image: Joi.required(),\r\n    };\r\n    const postData = {\r\n      post_image: this.PrevImgRef.files[0],\r\n      postHeader: this.postHeader.value,\r\n    };\r\n    const { error } = Joi.validate(postData, validationSchema);\r\n    if (error) return console.log(error.details[0].message);\r\n    const bodyformData = new FormData();\r\n    bodyformData.set(\"postHeader\", postData.postHeader);\r\n    bodyformData.append(\"post_image\", postData.post_image);\r\n    try {\r\n      await axios.post(\r\n        \"/api/posts/post/\" + this.props.authUser.username + \"/new\",\r\n        bodyformData,\r\n        { withCredentials: true }\r\n      );\r\n      return this.props.history.push(\r\n        \"/profile/\" + this.props.authUser.username\r\n      );\r\n    } catch (e) {\r\n      console.log(e.response);\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Spring\r\n        from={{ opacity: 0, transform: \"translate(0,-90px)\" }}\r\n        to={{ opacity: 1, transform: \"translate(0,0px)\" }}\r\n        config={{ friction: 17, tension: 100 }}\r\n      >\r\n        {(props) => (\r\n          <div className=\"post_addfr_mn\" style={props}>\r\n            <form methd=\"POST\" onSubmit={this.handlePostData}>\r\n              <textarea\r\n                placeholder=\"What's on your mind\"\r\n                ref={(ref) => (this.postHeader = ref)}\r\n              ></textarea>\r\n              {this.state.PreviewImgsrc && (\r\n                <Spring from={{ opacity: 0 }} to={{ opacity: 1 }}>\r\n                  {(props) => (\r\n                    <div className=\"prv_pst_img_g\" style={props}>\r\n                      <img src={this.state.PreviewImgsrc} alt=\"\" id=\"prv_img\" />\r\n                      <i\r\n                        className=\"fal fa-times\"\r\n                        onClick={() =>\r\n                          this.setState({ PreviewImgsrc: undefined })\r\n                        }\r\n                      ></i>\r\n                    </div>\r\n                  )}\r\n                </Spring>\r\n              )}\r\n              <div className=\"fl_hld_k \">\r\n                <div className=\"fl_upld_holder\">\r\n                  <input\r\n                    ref={(ref) => (this.PrevImgRef = ref)}\r\n                    type=\"file\"\r\n                    name=\"post_image\"\r\n                    id=\"fl_upld_r\"\r\n                    onChange={this.addImagePreview}\r\n                  />\r\n                  <i className=\"fa fa-camera\"></i>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"prf_bt t-dark-sld\"\r\n                  style={{ backgroundColor: \"#57585A\" }}\r\n                >\r\n                  Post\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </Spring>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfilePostForm;\r\n","import React, { Component } from \"react\";\r\nimport UnvProfileImage from \"./UnvProfileImage\";\r\nimport ProfilePostForm from \"./ProfilePostForm\";\r\nimport axios from \"axios\";\r\nimport DynamicText from \"./BasicComponents/DynamicText\";\r\n\r\nclass ProfileHeader extends Component {\r\n  state = {\r\n    addingPost: false,\r\n    isFollower: false,\r\n    followInviteSent: false,\r\n  };\r\n  componentDidMount() {\r\n    if (this.props.user.followers.includes(this.props.authUser.data._id)) {\r\n      this.setState({ isFollower: true });\r\n    } else if (\r\n      this.props.user.followRequests.includes(this.props.authUser.data._id)\r\n    ) {\r\n      this.setState({ followInviteSent: true });\r\n    }\r\n  }\r\n  addPostForm = () => {\r\n    this.setState({ addingPost: !this.state.addingPost });\r\n  };\r\n  followUser = async () => {\r\n    try {\r\n      const res = await axios.post(\r\n        \"/api/users/profile/\" + this.props.user.username + \"/follow\",\r\n        null,\r\n        { withCredentials: true }\r\n      );\r\n      this.followBtnVal.value = \"Following\";\r\n      console.log(res);\r\n    } catch (e) {\r\n      console.warn(e.response);\r\n    }\r\n  };\r\n  render() {\r\n    const { user, postsCount } = this.props;\r\n    const { data: authUser } = this.props.authUser;\r\n    return (\r\n      <div className=\"prf_mn_header\">\r\n        <div className=\"prf_header_inp\">\r\n          <div className=\"prf_header_ibt\">\r\n            <div className=\"prf_header_img\">\r\n              <UnvProfileImage\r\n                username={user.username}\r\n                size={\"140px\"}\r\n                f_size={\"25px\"}\r\n                prf_image={user.profileImage}\r\n                uncc\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"prf_info_des\">\r\n            <div id=\"prf_header_ur\">\r\n              <h2>{user.username}</h2>\r\n              {user._id === authUser._id && (\r\n                <React.Fragment>\r\n                  <button\r\n                    className=\"prf_bt t-dark-sld\"\r\n                    onClick={this.props.toggleModify}\r\n                  >\r\n                    Modify Profile\r\n                  </button>\r\n                  <button className=\"prf_bt\" onClick={this.addPostForm}>\r\n                    <i\r\n                      className={\r\n                        this.state.addingPost\r\n                          ? \"fal fa-times t-dark-sld\"\r\n                          : \"fal fa-plus t-dark-sld\"\r\n                      }\r\n                    ></i>\r\n                  </button>\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n            <DynamicText\r\n              history={this.props.history}\r\n              content={\r\n                user.profileDescription\r\n                  ? user.profileDescription\r\n                  : \"No description\"\r\n              }\r\n            />\r\n            {!(user._id === authUser._id) && (\r\n              <button\r\n                className=\"prf_bt\"\r\n                onClick={this.followUser}\r\n                style={{ backgroundColor: this.state.isFollower && \"#858585\" }}\r\n              >\r\n                <p ref={(ref) => (this.followBtnVal = ref)}>\r\n                  {!this.state.followInviteSent && (\r\n                    <i\r\n                      className={\r\n                        this.state.isFollower ? \"fa fa-check\" : \"fa fa-plus\"\r\n                      }\r\n                    ></i>\r\n                  )}{\" \"}\r\n                  {this.state.followInviteSent\r\n                    ? \"Follow Request Sent\"\r\n                    : this.state.isFollower\r\n                    ? \"Following\"\r\n                    : \"Follow\"}\r\n                </p>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {this.state.addingPost && user._id === authUser._id && (\r\n          <ProfilePostForm\r\n            addingPost={this.state.addingPost}\r\n            authUser={authUser}\r\n            history={this.props.history}\r\n          />\r\n        )}\r\n        <div className=\"prf_header_st_inf\">\r\n          <div>\r\n            <p>Posts</p>\r\n            <p className=\"t-dark-sld\">{postsCount}</p>\r\n          </div>\r\n          <div>\r\n            <p>Followers</p>\r\n            <p className=\"t-dark-sld\">{user.followers.length}</p>\r\n          </div>\r\n          <div>\r\n            <p>Following</p>\r\n            <p className=\"t-dark-sld\">{user.following.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileHeader;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Spring } from \"react-spring/renderprops\";\r\n\r\nclass NotFoundComponent extends Component {\r\n  render() {\r\n    return (\r\n      <Spring\r\n        from={{ opacity: 0, transform: \"scale(1.2)\" }}\r\n        to={{ opacity: 1, transform: \"scale(1)\" }}\r\n      >\r\n        {(props) => (\r\n          <div style={props}>\r\n            <div className=\"er_prf_nfd_main\">\r\n              <i className=\"fal fa-exclamation-circle\"></i>\r\n              <h2>{this.props.title}</h2>\r\n              <p>\r\n                {this.props.body}{\" \"}\r\n                <Link className=\"cst_link\" to=\"/\">\r\n                  Home\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Spring>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFoundComponent;\r\n","import React, { Component } from \"react\";\r\nimport Popup from \"./../BasicComponents/Popup\";\r\nimport UnvProfileImage from \"./../UnvProfileImage\";\r\nimport \"./profileExtras.css\";\r\nimport axios from \"axios\";\r\n\r\nclass ProfileModify extends Component {\r\n  state = {};\r\n  updateProfile = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (\r\n        this.state.profileDescription ||\r\n        this.state.username ||\r\n        this.state.profileImage\r\n      ) {\r\n        const postData = {\r\n          username: this.state.username,\r\n          profileDescription: this.state.profileDescription,\r\n          profile_image: this.state.PreviewImgsrc,\r\n        };\r\n        const data = new FormData(e.target);\r\n        if (postData.username || postData.username !== undefined) {\r\n          data.set(\"username\", postData.username);\r\n        }\r\n        if (\r\n          postData.profileDescription ||\r\n          postData.profileDescription !== undefined\r\n        ) {\r\n          data.set(\"profileDescription\", postData.profileDescription);\r\n        }\r\n        if (\r\n          postData.profile_image ||\r\n          postData.profileDescription !== undefined\r\n        ) {\r\n          data.append(\"profile_image\", postData.profile_image);\r\n        }\r\n        const newUser = await axios.post(\r\n          \"/api/users/profile/\" + this.props.user.username + \"/update\",\r\n          data,\r\n          {\r\n            withCredentials: true,\r\n          }\r\n        );\r\n        this.props.togglePopup();\r\n        this.props.history.replace(\"/profile/\" + newUser.data.username);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  handleInput = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  imgUploadHandle = (e) => {\r\n    this.setState({ profileImage: e.target.value });\r\n    if (e.target.files[0]) {\r\n      let nfile = e.target.files[0];\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(nfile);\r\n      reader.onloadend = (e) => {\r\n        this.setState({ PreviewImgsrc: reader.result });\r\n      };\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Popup title={\"Modify Profile\"} togglePopup={this.props.togglePopup}>\r\n        <form method=\"POST\" onSubmit={this.updateProfile}>\r\n          <div className=\"prf_modif_main\">\r\n            <div className=\"prf_modif_img_h\">\r\n              {!this.state.PreviewImgsrc ? (\r\n                <UnvProfileImage\r\n                  size={\"180px\"}\r\n                  username={this.props.user.username}\r\n                  prf_image={this.props.user.profileImage}\r\n                  uncc\r\n                />\r\n              ) : (\r\n                <img src={this.state.PreviewImgsrc} alt=\"\" id=\"modif_prv_img\" />\r\n              )}\r\n              <input\r\n                type=\"file\"\r\n                name=\"profile_image\"\r\n                onChange={this.imgUploadHandle}\r\n              />\r\n            </div>\r\n            <div className=\"prf_modif_cmp\">\r\n              <div className=\"prf_modif_us\">\r\n                <p>{this.props.user.username}</p>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Change your name\"\r\n                  name=\"username\"\r\n                  onChange={this.handleInput}\r\n                  autoComplete=\"off\"\r\n                />\r\n              </div>\r\n              <div className=\"prf_modif_dsc\">\r\n                <textarea\r\n                  rows=\"5\"\r\n                  placeholder=\"Describe your self\"\r\n                  name=\"profileDescription\"\r\n                  onChange={this.handleInput}\r\n                  autoComplete=\"off\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mdf_acc_h\">\r\n            <button\r\n              className=\"bt_default_rm bt_tag hs_bt_tag\"\r\n              style={{ padding: \"0.5em\" }}\r\n            >\r\n              Change\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileModify;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Styles/ProfilePage.css\";\r\nimport ProfilePost from \"./Components/ProfilePost\";\r\nimport ProfileHeader from \"./Components/ProfileHeader\";\r\nimport NotFoundComponent from \"./Components/NotFoundComponent\";\r\nimport { Spring } from \"react-spring/renderprops\";\r\nimport ProfileModify from \"./Components/ProfileComponents/ProfileModify\";\r\nimport Helpers from \"../Helpers\";\r\nimport Loader from \"./Components/BasicComponents/Loader\";\r\n\r\nclass ProfilePage extends Component {\r\n  state = {\r\n    loading: true,\r\n    notFound: false,\r\n    skipCount: 0,\r\n    newLoading: false,\r\n    postLimit: false,\r\n    canLoadData: true,\r\n    postsCount: 0,\r\n    modifyActive: false,\r\n  };\r\n  async componentDidMount() {\r\n    try {\r\n      const { username } = this.props.match.params;\r\n      const data = await axios.get(\"/api/users/profile/\" + username, {\r\n        withCredentials: true,\r\n      });\r\n      this.setState({\r\n        user: data.data.us_prf,\r\n        loading: false,\r\n        skipCount: data.data.us_prf.posts.length,\r\n        postsCount: data.data.postsCount,\r\n      });\r\n      document.title = \"Profile: \" + username;\r\n      if (this.state.postLimit !== true && this.state.canLoadData) {\r\n        document.addEventListener(\"scroll\", async () => {\r\n          let scrollCondition =\r\n            document.scrollingElement.scrollHeight -\r\n              document.scrollingElement.scrollTop ===\r\n            document.scrollingElement.clientHeight;\r\n          if (scrollCondition) {\r\n            this.setState({ newLoading: true, canLoadData: false });\r\n            const newProfilePosts = await axios.get(\r\n              \"/api/users/profile/\" + this.props.match.params.username,\r\n              {\r\n                withCredentials: true,\r\n                params: { skp_count: this.state.skipCount },\r\n              }\r\n            );\r\n            if (newProfilePosts.data.us_prf.posts.length > 0) {\r\n              const h_p = [...this.state.user.posts];\r\n              const ccp = h_p.concat(newProfilePosts.data.us_prf.posts);\r\n              const nwUser = { ...this.state.user };\r\n              nwUser.posts = ccp;\r\n              this.setState({\r\n                user: nwUser,\r\n                skipCount: ccp.length,\r\n                newLoading: false,\r\n                canLoadData: true,\r\n              });\r\n            } else {\r\n              this.setState({\r\n                postLimit: true,\r\n                newLoading: false,\r\n                canLoadData: false,\r\n              });\r\n            }\r\n          }\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      this.setState({ notFound: true, loading: false });\r\n    }\r\n  }\r\n  toggleProfileModify = () => {\r\n    const srcToggle = Helpers.toggleSearch(this.state.modifyActive);\r\n    this.setState({ modifyActive: srcToggle });\r\n  };\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <Loader />;\r\n    } else {\r\n      if (this.state.notFound) {\r\n        return (\r\n          <NotFoundComponent\r\n            title={\"Profile Not found\"}\r\n            body={\r\n              \"We could not find this profile, Maybe it was deleted by its owner or does not exist\"\r\n            }\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <div className=\"prf_cont_hld_main\">\r\n            <div className=\"prf_cont_hld\">\r\n              {this.state.modifyActive && (\r\n                <ProfileModify\r\n                  togglePopup={this.toggleProfileModify}\r\n                  user={this.state.user}\r\n                  history={this.props.history}\r\n                />\r\n              )}\r\n              <Spring\r\n                config={{ duration: 150 }}\r\n                from={{ opacity: 0, transform: \"scale(1.1)\" }}\r\n                to={{ opacity: 1, transform: \"scale(1)\" }}\r\n              >\r\n                {(props) => (\r\n                  <div style={props}>\r\n                    <ProfileHeader\r\n                      user={this.state.user}\r\n                      authUser={this.props.user}\r\n                      history={this.props.history}\r\n                      postsCount={this.state.postsCount}\r\n                      toggleModify={this.toggleProfileModify}\r\n                    />\r\n                    <div className=\"prf_mn_holder\">\r\n                      <ProfilePost\r\n                        history={this.props.history}\r\n                        user={this.state.user}\r\n                        authUser={this.props.user}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </Spring>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React, { Component } from \"react\";\r\n\r\nclass ErrorPage extends Component {\r\n  componentDidMount() {\r\n    document.title = \"Error: Page Unavailable\";\r\n  }\r\n  render() {\r\n    return <div>Not Found</div>;\r\n  }\r\n}\r\n\r\nexport default ErrorPage;\r\n","import React, { Component } from \"react\";\r\nimport \"./Styles/Auth.css\";\r\nimport auth from \"../auth-guard\";\r\n\r\nclass LoginPage extends Component {\r\n  componentDidMount() {\r\n    document.title = \"Login\";\r\n  }\r\n  state = {};\r\n  logUserOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { error } = auth.verifyLoginData(this.state);\r\n    if (error) {\r\n      console.log(error.details[0].message);\r\n    } else {\r\n      await auth.login(this.state);\r\n      window.location.href = \"/\";\r\n    }\r\n  };\r\n  handleInputUser = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"lg_main_hl\">\r\n        <form\r\n          method=\"POST\"\r\n          className=\"lg_form_sbn\"\r\n          onSubmit={this.logUserOnSubmit}\r\n        >\r\n          <div className=\"form_inter_bt\">\r\n            <h2>Login</h2>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"ident\"\r\n            placeholder=\"Email or Username\"\r\n            className=\"otln\"\r\n            autoComplete=\"off\"\r\n            onChange={this.handleInputUser}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"otln\"\r\n            autoComplete=\"off\"\r\n            onChange={this.handleInputUser}\r\n          />\r\n          <input type=\"submit\" readOnly className=\"bt_default_rm\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginPage;\r\n","import React, { Component } from \"react\";\r\nimport auth from \"../auth-guard\";\r\n\r\nclass RegisterPage extends Component {\r\n  componentDidMount() {\r\n    document.title = \"Register\";\r\n  }\r\n  state = {};\r\n  logUserOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { error } = auth.verifyRegisterData(this.state);\r\n    if (error) {\r\n      console.log(error.details[0].message);\r\n    } else {\r\n      await auth.Register(this.state);\r\n      this.props.history.replace(\"/profile/\" + this.state.username);\r\n    }\r\n  };\r\n  handleInputUser = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"lg_main_hl\">\r\n        <form\r\n          method=\"POST\"\r\n          className=\"lg_form_sbn\"\r\n          onSubmit={this.logUserOnSubmit}\r\n        >\r\n          <div className=\"form_inter_bt\">\r\n            <h2>Register</h2>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            placeholder=\"Username\"\r\n            className=\"otln\"\r\n            autoComplete=\"off\"\r\n            onChange={this.handleInputUser}\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"E-mail\"\r\n            className=\"otln\"\r\n            autoComplete=\"off\"\r\n            onChange={this.handleInputUser}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"otln\"\r\n            autoComplete=\"off\"\r\n            onChange={this.handleInputUser}\r\n          />\r\n          <input type=\"submit\" readOnly className=\"bt_default_rm\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RegisterPage;\r\n","import React, { Component } from \"react\";\r\nimport \"../Styles/LoadingBarMain.css\";\r\nimport { Spring } from \"react-spring/renderprops\";\r\n\r\nclass LoadingBarMain extends Component {\r\n  render() {\r\n    return (\r\n      this.props.loading && (\r\n        <div className=\"bar_mn_full\">\r\n          <Spring from={{ width: \"0%\" }} to={{ width: \"100%\" }}>\r\n            {(props) => <div style={props}></div>}\r\n          </Spring>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoadingBarMain;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport LoadingBarMain from \"./../Components/LoadingBar\";\r\n\r\nclass ProtectedRoute extends Component {\r\n  state = {\r\n    isAuthed: false,\r\n    loading: true,\r\n  };\r\n  componentDidMount() {\r\n    this.setState({\r\n      isAuthed: this.props.isAuthed.isAuthed,\r\n      loading: false,\r\n      user: this.props.isAuthed.user,\r\n    });\r\n  }\r\n  render() {\r\n    return this.state.loading ? (\r\n      <div>Loading...</div>\r\n    ) : this.state.isAuthed ? (\r\n      <React.Fragment>\r\n        <LoadingBarMain loading={this.state.loading} />\r\n        {this.props.navbar && <this.props.navbar />}\r\n        <Route\r\n          path={this.props.path}\r\n          component={(props) => (\r\n            <this.props.component\r\n              {...props}\r\n              user={this.state.user}\r\n              socketConnect={this.props.socketConnect}\r\n              authUser={this.props.isAuthed}\r\n            />\r\n          )}\r\n          exact={this.props.exact}\r\n        />\r\n      </React.Fragment>\r\n    ) : (\r\n      <Redirect to=\"/login\" />\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nclass AuthRoute extends Component {\r\n  state = {\r\n    isAuthed: false,\r\n    loading: true,\r\n  };\r\n  componentDidMount() {\r\n    this.setState({ isAuthed: this.props.isAuthed.isAuthed, loading: false });\r\n  }\r\n  render() {\r\n    return this.state.loading ? (\r\n      <div>Loading...</div>\r\n    ) : !this.state.isAuthed ? (\r\n      <React.Fragment>\r\n        {this.props.navbar && <this.props.navbar />}\r\n        <Route\r\n          path={this.props.path}\r\n          component={this.props.component}\r\n          exact={this.props.exact}\r\n        />\r\n      </React.Fragment>\r\n    ) : (\r\n      <Redirect to={this.props.redirectPath || \"/\"} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthRoute;\r\n","import React, { Component } from \"react\";\r\nimport Helpers from \"../../../Helpers\";\r\nimport Like from \"./Like\";\r\nimport Comment from \"./Comment\";\r\nimport UnvProfileImage from \"./../UnvProfileImage\";\r\n\r\nclass PostFormMain extends Component {\r\n  state = {\r\n    commentBody: \"\",\r\n  };\r\n  componentDidMount() {\r\n    this.props.socket.on(\"commentPostRes\", (data) => {\r\n      const nComment = {\r\n        commentOwner: {\r\n          username: data.cm_res.user.username,\r\n          profileImage: data.cm_res.user.profileImage,\r\n        },\r\n        commentInner: data.cm_res.newComment.commentInner,\r\n        commentDate: data.cm_res.newComment.commentDate,\r\n      };\r\n      this.props.addCommentOnPost(nComment);\r\n      this.setState({ commentBody: \"\" });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { socket, user, post } = this.props;\r\n    return (\r\n      <div className=\"pst_inter_main_h\">\r\n        <div className=\"pst_inter_ic\">\r\n          <Like\r\n            likes={post.likes}\r\n            postId={post.postId}\r\n            user={user}\r\n            socket={socket}\r\n          />\r\n          <Comment\r\n            toggleComments={this.props.toggleComments}\r\n            commentsCount={this.props.commentsCount.length}\r\n          />\r\n        </div>\r\n        <form\r\n          className=\"comment_fr_pst\"\r\n          method=\"POST\"\r\n          onSubmit={(e) => e.preventDefault()}\r\n        >\r\n          <div>\r\n            <UnvProfileImage\r\n              username={this.props.user.username}\r\n              size={\"40px\"}\r\n              f_size={\"10px\"}\r\n              prf_image={this.props.user.profileImage}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Add a comment...\"\r\n              value={this.state.commentBody}\r\n              onChange={(e) => this.setState({ commentBody: e.target.value })}\r\n              onKeyDown={(e) =>\r\n                Helpers.commentPost(e, socket, post, user, e.target.value)\r\n              }\r\n            ></input>\r\n            <i className=\"fa fal-paper-plane\"></i>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostFormMain;\r\n","import React, { Component } from \"react\";\r\nimport UnvProfileImage from \"../UnvProfileImage\";\r\nimport Helpers from \"../../../Helpers\";\r\nimport DynamicText from \"./../BasicComponents/DynamicText\";\r\n\r\nclass PostHeaderMini extends Component {\r\n  render() {\r\n    const { post } = this.props;\r\n    return (\r\n      <div>\r\n        <div className=\"pst_header\">\r\n          <UnvProfileImage\r\n            username={post.postOwner.username}\r\n            size={\"45px\"}\r\n            f_size={\"13px\"}\r\n            prf_image={post.postOwner.profileImage}\r\n          />\r\n          <h3>{post.postOwner.username}</h3>\r\n          <p>{Helpers.setPostTimeDate(post.postDate)}</p>\r\n          {this.props.closable && (\r\n            <button\r\n              className=\"bt_default_rm\"\r\n              onClick={() => Helpers.returnBack(this.props.history)}\r\n            >\r\n              <i className=\"fal fa-times\"></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n        <DynamicText history={this.props.history} content={post.postHeader} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostHeaderMini;\r\n","import React, { Component } from \"react\";\r\nimport { Spring } from \"react-spring/renderprops\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport CommentPostMain from \"./CommentMainPost\";\r\nimport PostFormMain from \"./PostMainPageComponents/PostFormM\";\r\nimport PostHeaderMini from \"./PostMainPageComponents/PostHeaderMini\";\r\nimport Helpers from \"../../Helpers\";\r\n\r\nclass PostMainPageComponent extends Component {\r\n  state = {\r\n    likes: 0,\r\n    comments: 0,\r\n    likesCount: 0,\r\n    showComments: true,\r\n  };\r\n  componentDidMount() {\r\n    this.likeHeartRef = React.createRef();\r\n    this.setState({\r\n      likes: this.props.post.likes,\r\n      comments: this.props.post.postComments[0].comments,\r\n      likesCount: this.props.post.likes.length,\r\n    });\r\n  }\r\n  addCommentOnPost = (nComment) => {\r\n    const newComments = [...this.state.comments];\r\n    newComments.push(nComment);\r\n    this.setState({ comments: newComments });\r\n  };\r\n  toggleComments = () => {\r\n    this.setState({\r\n      showComments: !this.state.showComments,\r\n    });\r\n  };\r\n  render() {\r\n    const { post, socket, user } = this.props;\r\n    return (\r\n      <Spring\r\n        from={{ opacity: 0, transform: \"scale(1.05)\" }}\r\n        to={{ opacity: 1, transform: \"scale(1)\" }}\r\n      >\r\n        {(props) => (\r\n          <div className=\"pst_mn\" style={props}>\r\n            <div className=\"pst_mn_img_prev\">\r\n              <img\r\n                id=\"bdr_blur\"\r\n                alt=\"\"\r\n                src={`${Helpers.getBackendLink()}/api/upld/imgs/image/preview/post-image/${\r\n                  post.postPreviewHolder\r\n                }`}\r\n              />\r\n              <img\r\n                src={`${Helpers.getBackendLink()}/api/upld/imgs/image/preview/post-image/${\r\n                  post.postPreviewHolder\r\n                }`}\r\n                alt={post.postPreviewHolder}\r\n              />\r\n            </div>\r\n            <div className=\"pst_mn_mr_info\">\r\n              <PostHeaderMini\r\n                post={post}\r\n                closable={true}\r\n                history={this.props.history}\r\n              />\r\n              <hr />\r\n              <PostFormMain\r\n                user={user}\r\n                socket={socket}\r\n                post={post}\r\n                toggleComments={this.toggleComments}\r\n                commentsCount={this.state.comments}\r\n                addCommentOnPost={this.addCommentOnPost}\r\n              />\r\n              <hr />\r\n              {this.state.showComments && (\r\n                <div className=\"pst_comments_lst_h\">\r\n                  {this.state.comments.length > 0 ? (\r\n                    this.state.comments.map((comment, index) => (\r\n                      <React.Fragment key={index}>\r\n                        <CommentPostMain postComment={post} comment={comment} />\r\n                        <hr />\r\n                      </React.Fragment>\r\n                    ))\r\n                  ) : (\r\n                    <div>\r\n                      <h3>No comments</h3>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Spring>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(PostMainPageComponent);\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport NotFoundComponent from \"./Components/NotFoundComponent\";\r\nimport \"./Styles/PostMainPage.css\";\r\nimport PostMainPageComponent from \"./Components/PostMainPageComponent\";\r\nimport io from \"socket.io-client\";\r\nimport helpers from \"../Helpers\";\r\n\r\nclass PostMainPage extends Component {\r\n  state = {\r\n    notfound: false,\r\n    loading: true,\r\n    post: {},\r\n    privatePost: false,\r\n  };\r\n  async componentDidMount() {\r\n    const socket = io.connect(helpers.getBackendLink() + \"/post\");\r\n    socket.emit(\"joinPost\", this.props.match.params.postId);\r\n    try {\r\n      const post = await axios.get(\r\n        \"/api/posts/rev/\" + this.props.match.params.postId,\r\n        { withCredentials: true }\r\n      );\r\n      this.setState({\r\n        post: post.data.post,\r\n        user: post.data.user,\r\n        loading: false,\r\n        socket,\r\n      });\r\n    } catch (e) {\r\n      if (e.response.status === 403) {\r\n        this.setState({ privatePost: true, loading: false });\r\n      } else {\r\n        this.setState({ notfound: true, loading: false });\r\n      }\r\n      console.log(e.response);\r\n    }\r\n  }\r\n  render() {\r\n    if (!this.state.loading) {\r\n      if (this.state.notfound) {\r\n        return (\r\n          <NotFoundComponent\r\n            title={\"post not found\"}\r\n            body={\r\n              \"Sorry, we could not find this post maybe its owner removed it or it dosent exist. \"\r\n            }\r\n          />\r\n        );\r\n      } else if (this.state.privatePost) {\r\n        return (\r\n          <NotFoundComponent\r\n            title={\"Private Post\"}\r\n            body={\r\n              \"Sorry, But the post owner's profile is private so you cant view this content unless you follow this user\"\r\n            }\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <div className=\"flx_pst_mn_holder\">\r\n            <div className=\"pst_mn_holder\">\r\n              <PostMainPageComponent\r\n                post={this.state.post}\r\n                user={this.state.user}\r\n                socket={this.state.socket}\r\n                authUser={this.props.authUser.user.data}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    } else {\r\n      return <p>Loading...</p>;\r\n    }\r\n  }\r\n}\r\n\r\nexport default PostMainPage;\r\n","import React, { Component } from \"react\";\r\nimport UnvProfileImage from \"./../UnvProfileImage\";\r\n\r\nclass UserListPageL extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"ust_list_mn\">\r\n        {this.props.usersList.map((user, index) => (\r\n          <React.Fragment key={index}>\r\n            <div className=\"lst_it_us\">\r\n              <UnvProfileImage\r\n                username={user.username}\r\n                prf_image={user.profileImage}\r\n                size={\"45px\"}\r\n                f_size={\"13px\"}\r\n              />\r\n              <div className=\"us_ls_header\">\r\n                <h4>{user.username}</h4>\r\n                <div>\r\n                  <p>\r\n                    {user.followers.length} <span>Followers</span>\r\n                  </p>\r\n                  <p className=\"mr-l-1\">\r\n                    {user.following.length} <span>Following</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"fl_bt_lst_hl\">\r\n                {!(user._id === this.props.authUser) && (\r\n                  <button className=\"bt_default_rm\">\r\n                    <i\r\n                      className={\r\n                        user.followers.includes(this.props.authUser)\r\n                          ? \"fa fa-check\"\r\n                          : \"fa fa-plus\"\r\n                      }\r\n                    ></i>\r\n                  </button>\r\n                )}\r\n                <button\r\n                  className=\"bt_default_rm\"\r\n                  onClick={() =>\r\n                    this.props.history.push(\"/profile/\" + user.username)\r\n                  }\r\n                >\r\n                  <i className=\"fa fa-arrow-right\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n          </React.Fragment>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserListPageL;\r\n","import React, { Component } from \"react\";\r\nimport query from \"query-string\";\r\nimport axios from \"axios\";\r\nimport UserListPageL from \"./Components/SearchComponents/UsersListPage\";\r\nimport Loader from \"./Components/BasicComponents/Loader\";\r\nimport NotFoundComponent from \"./Components/NotFoundComponent\";\r\nimport \"./Components/SearchComponents/Search.css\";\r\n\r\nclass MainSearchPage extends Component {\r\n  state = {\r\n    loading: true,\r\n    notFound: false,\r\n  };\r\n  async componentDidMount() {\r\n    try {\r\n      const searchQuery = query.parse(this.props.location.search);\r\n      if (!searchQuery.sch_q || searchQuery.sch_q === \"\") {\r\n        this.props.history.replace(\"/\");\r\n      } else {\r\n        const l_users = await axios.get(\"/api/users/profiles/lst\", {\r\n          withCredentials: true,\r\n          params: { username: searchQuery.sch_q },\r\n        });\r\n        this.setState({\r\n          loading: false,\r\n          usersList: l_users.data.prf_user_list,\r\n          authUser: l_users.data.authuser,\r\n        });\r\n      }\r\n    } catch (e) {\r\n      this.setState({ loading: false, notFound: true });\r\n      console.log(e.response);\r\n    }\r\n  }\r\n  render() {\r\n    if (!this.state.loading) {\r\n      if (!this.state.notFound) {\r\n        return (\r\n          <div className=\"us_search_lst\">\r\n            <UserListPageL\r\n              usersList={this.state.usersList}\r\n              history={this.props.history}\r\n              authUser={this.state.authUser}\r\n            />\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <NotFoundComponent\r\n            title={\"No users found\"}\r\n            body={\"We could not find any users\"}\r\n          />\r\n        );\r\n      }\r\n    } else {\r\n      return <Loader />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default MainSearchPage;\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport \"./FontAwesome/css/all.min.css\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport MainNavbar from \"./Pages/Components/MainNav\";\nimport MainHomePage from \"./Pages/HomePage\";\nimport ProfilePage from \"./Pages/ProfilePage\";\nimport ErrorPage from \"./Pages/ErrorPage\";\nimport LoginPage from \"./Pages/LoginPage\";\nimport RegisterPage from \"./Pages/RegisterPage\";\nimport ProtectedRoute from \"./Pages/Routes/ProtectedRoute\";\nimport AuthRoute from \"./Pages/Routes/AuthRoute\";\nimport auth from \"./auth-guard\";\nimport PostMainPage from \"./Pages/PostMainPage\";\nimport MainSearchPage from \"./Pages/SearchPage\";\n\nclass App extends Component {\n  state = {\n    loading: true,\n    isAuthed: false,\n  };\n  async componentDidMount() {\n    try {\n      const isAuthed = await auth.isAuthenticated();\n      this.setState({ isAuthed, loading: false });\n    } catch (e) {\n      this.setState({ isAuthed: false, loading: false });\n    }\n  }\n\n  navBar_ss = () => {\n    return <MainNavbar user={this.state.isAuthed.user || null} />;\n  };\n\n  render() {\n    return (\n      <div className=\"main_app\">\n        {!this.state.loading && (\n          <React.Fragment>\n            <Switch>\n              <ProtectedRoute\n                path=\"/post/:postId\"\n                component={PostMainPage}\n                isAuthed={this.state.isAuthed}\n              />\n              <ProtectedRoute\n                path=\"/profile/:username\"\n                component={ProfilePage}\n                isAuthed={this.state.isAuthed}\n                navbar={this.navBar_ss}\n              />\n              <AuthRoute\n                path=\"/register\"\n                component={RegisterPage}\n                isAuthed={this.state.isAuthed}\n                navbar={this.navBar_ss}\n              />\n              <ProtectedRoute\n                path=\"/search\"\n                component={MainSearchPage}\n                isAuthed={this.state.isAuthed}\n                navbar={this.navBar_ss}\n              />\n              <AuthRoute\n                path=\"/login\"\n                component={LoginPage}\n                isAuthed={this.state.isAuthed}\n                navbar={this.navBar_ss}\n              />\n              <ProtectedRoute\n                path=\"/\"\n                exact\n                component={MainHomePage}\n                isAuthed={this.state.isAuthed}\n                navbar={this.navBar_ss}\n              />\n              <React.Fragment>\n                {this.navBar_ss()}\n                <Route path=\"/error/nfd\" component={ErrorPage} />\n                <Redirect to=\"/error/nfd\" />\n              </React.Fragment>\n            </Switch>\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { BrowserRouter as Router, HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"https://cht-bck-d.herokuapp.com\";\naxios.defaults.withCredentials = true;\naxios.defaults.credentials = \"include\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}